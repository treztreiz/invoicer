parameters:

services:
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    App\:
        resource: '../src/*'
        exclude:
            - '../src/Domain'
            - '../src/Kernel.php'

    App\Application\:
        resource: '../src/Application/'

    App\Domain\Contracts\:
        resource: '../src/Domain/Contracts/'

    App\Infrastructure\:
        resource: '../src/Infrastructure/'

    # PostgreSQL `CREATE SCHEMA public` fix
    # See https://github.com/doctrine/migrations/issues/1415
#    Doctrine\Migrations\Configuration\Migration\ConfigurationLoader: '@doctrine.migrations.configuration_loader'
#    doctrine.migrations.dependency_factory:
#        class: Doctrine\Migrations\DependencyFactory
#        configurator: '@App\Infrastructure\Persistence\Doctrine\Migrations\DependencyFactoryConfigurator'
